<!DOCTYPE HTML>
<html>
<head>
<title>文本对比</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<script type="text/javascript" src="cp.js"></script>
<script>
	function doCompare() {
		// 1.页面展示元素定义
		var jsonValue = document.getElementById("json").value;
		var json = eval(jsonValue);
		var resultDom = document.getElementById("result");

		// 2.复位（初始化），清除dom元素中的子内容
		while (resultDom.hasChildNodes()) {
			resultDom.removeChild(resultDom.firstChild);
		}
		// 3.执行
		showCompareResult(json,resultDom);
	}
</script>

<style type="text/css">
<!--用于展示对比结果的样式-->
#result span {
	display: inline-block;
	line-height: 14px;
	height: 14px;
	margin-top: 4px;
	padding-top: 4px;
	margin-bottom: 4px;
	padding-bottom: 4px;
	border-radius: 4px;
}
.v1_sub{
    background: #ff0075;
	text-decoration : line-through;
}
.v1_add{
    background: #ff0075;
}

.v2_sub{
    background: #75d6ff;
	text-decoration : line-through;
}
.v2_add{
    background: #75d6ff;
}
.v3_sub{
    background: #f112dd;
	text-decoration : line-through;
}
.v3_add{
    background: #f112dd;
}
.v4_sub{
    background: #ff8800;
	text-decoration : line-through;
}
.v4_add{
    background: #ff8800;
}
</style>
</head>
<body>
	<div>
		<p>模拟传入的json格式的文本数据</p>
		<textarea id="json" style="width:80%;height:200px;">
			[{
				CrUser : "xiaoming",
				CrTime : "2015-11-21 00:00:00",
				DocContent : "小说《雾霾》有个人到郑州，问我：你们北京人凭什么那么牛？我默默的深吸了一口气 ，笑着看了看他。他不服，硬要学我，也深吸了一口气。卒… 享年26岁。"
			},{
				CrUser : "xiaohua",
				CrTime : "2015-11-22 00:00:00",
				DocContent : "短篇小说《霾》有个人到郑州，问我：你们成都人凭什么那么牛？我默默的深吸了一口气 ，笑着看了看他。他不服，硬要学我，也深吸了一口气。卒… 享年26岁。"
			},{
				CrUser : "admin",
				CrTime : "2015-11-23 00:00:00",
				DocContent : "短篇小说《霾》有个人到成都，问我：你们成都人凭什么那么牛？我默默的深吸了一口气 ，笑着看了看他。他不服，硬要学我，也深吸了一口气。卒… 享年26岁。"
			}];
		</textarea>
	</div>
	<button onclick="doCompare();">对比</button>
	<br>
	对比结果：
	<div id="result" style="border:1px solid grey;width:80%;height:200px;">

	</div>
</body>
<script type="text/javascript">
	function ok() {
		var jsonValue = document.getElementById("json").value;
		var json = eval(jsonValue);
		alert(json[0].user);
	}
</script>
</html>